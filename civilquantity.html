<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Civil Quantity Takeoff</title>
    <style>
        :root {
            --primary-color: #000000;
            --secondary-color: #D4AF37; /* Gold */
            --tertiary-color: #C0C0C0; /* Silver */
            --background-color: #0a0a0a;
            --card-bg: #1a1a1a;
            --input-bg: #2a2a2a;
            --text-color: #ffffff;
            --border-color: #333333;
            --card-shadow: 0 4px 15px rgba(212, 175, 55, 0.2);
            --glow-color: rgba(212, 175, 55, 0.6);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
        }
        /* Shining Background Effect */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #000000 25%, transparent 25%, transparent 75%, #000000 75%, #000000),
                        linear-gradient(45deg, #000000 25%, transparent 25%, transparent 75%, #000000 75%, #000000);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            z-index: -1;
            opacity: 0.05;
        }
        /* Header Styles */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px var(--glow-color);
            position: relative;
            overflow: hidden;
        }
        header::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--secondary-color), transparent);
            animation: shine 3s infinite linear;
        }
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        .logo {
            height: 60px;
            filter: drop-shadow(0 0 5px var(--secondary-color));
        }
        h1 {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            flex-grow: 1;
            color: var(--secondary-color);
            text-shadow: 0 0 10px var(--glow-color);
            letter-spacing: 1px;
        }
        /* Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }
        /* Tab Navigation - Updated for two rows */
        .tab-nav {
            display: flex;
            flex-wrap: wrap; /* Allow wrapping to create rows */
            margin: 2rem 0;
            border-bottom: 2px solid var(--secondary-color);
            position: relative;
        }
        .tab-nav::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--secondary-color), transparent);
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }
        .tab-button {
            padding: 1rem 1.5rem;
            background-color: var(--card-bg);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-color);
            transition: all 0.3s ease;
            white-space: nowrap;
            position: relative;
            overflow: hidden;
            z-index: 1;
            width: 50%; /* Each button takes 50% width */
            text-align: center;
        }
        .tab-button::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--secondary-color), transparent);
            transition: left 0.5s;
            z-index: -1;
        }
        .tab-button:hover::before {
            left: 100%;
        }
        .tab-button:hover {
            background-color: rgba(212, 175, 55, 0.1);
            color: var(--secondary-color);
            box-shadow: 0 0 10px var(--glow-color);
        }
        .tab-button.active {
            background-color: var(--secondary-color);
            color: var(--primary-color);
            box-shadow: 0 0 15px var(--glow-color);
            animation: flash-glow 2s infinite; /* Added flashing effect */
        }
        @keyframes flash-glow {
            0% { box-shadow: 0 0 15px var(--glow-color); }
            50% { box-shadow: 0 0 25px var(--glow-color), 0 0 35px var(--secondary-color); }
            100% { box-shadow: 0 0 15px var(--glow-color); }
        }
        /* Tab Content */
        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }
        .tab-content.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Card Styles */
        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: var(--card-shadow);
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }
        .card::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at top right, rgba(212, 175, 55, 0.1), transparent 70%);
            z-index: 0;
        }
        .card-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--secondary-color);
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        /* Form Styles */
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
            z-index: 1;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-color);
        }
        input, select, textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--input-bg);
            color: var(--text-color);
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 10px var(--glow-color);
        }
        /* Button Styles */
        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }
        button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        button::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
            z-index: -1;
        }
        button:hover::before {
            left: 100%;
        }
        .btn-calculate {
            background-color: var(--secondary-color);
            color: var(--primary-color);
        }
        .btn-calculate:hover {
            background-color: #b8941f;
            box-shadow: 0 0 15px var(--glow-color);
        }
        .btn-reset {
            background-color: var(--tertiary-color);
            color: var(--primary-color);
        }
        .btn-reset:hover {
            background-color: #a9a9a9;
        }
        .btn-export {
            background-color: var(--primary-color);
            color: var(--secondary-color);
            border: 1px solid var(--secondary-color);
        }
        .btn-export:hover {
            background-color: #1a1a1a;
            box-shadow: 0 0 10px var(--glow-color);
        }
        /* Results Styles */
        .results {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: rgba(212, 175, 55, 0.1);
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
            position: relative;
            z-index: 1;
        }
        .result-item {
            margin-bottom: 0.8rem;
            display: flex;
            justify-content: space-between;
            padding-bottom: 0.5rem;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
        }
        .result-item:last-child {
            border-bottom: none;
        }
        .result-label {
            font-weight: 600;
            color: var(--text-color);
        }
        .result-value {
            color: var(--secondary-color);
            font-weight: 700;
        }
        /* Floating Donation Button */
        .donation-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--secondary-color);
            color: var(--primary-color);
            padding: 12px 20px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: 600;
            box-shadow: 0 4px 15px var(--glow-color);
            z-index: 1000;
            animation: pulse 2s infinite, float 3s ease-in-out infinite;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .donation-button:hover {
            background-color: #b8941f;
            animation: none;
        }
        /* Unit Toggle */
        .unit-toggle {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        .unit-toggle button {
            padding: 0.4rem 0.8rem;
            font-size: 0.9rem;
            border-radius: 4px;
        }
        .unit-toggle button.active {
            background-color: var(--secondary-color);
            color: var(--primary-color);
        }
        /* Sub-sections */
        .sub-section {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border-left: 3px solid var(--secondary-color);
        }
        .sub-section-title {
            font-size: 1.1rem;
            margin-bottom: 1rem;
            color: var(--secondary-color);
        }
        /* Formula Display */
        .formula {
            background-color: rgba(212, 175, 55, 0.1);
            padding: 1rem;
            border-radius: 5px;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
            text-align: center;
            border: 1px dashed var(--secondary-color);
        }
        /* Responsive Design */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }
            
            .tab-button {
                padding: 0.7rem 1rem;
                font-size: 0.9rem;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
            
            .donation-button {
                flex-direction: column;
                padding: 10px 15px;
                font-size: 0.9rem;
            }
        }
        /* Notification Styles */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: var(--secondary-color);
            color: var(--primary-color);
            padding: 1rem;
            border-radius: 5px;
            box-shadow: 0 4px 15px var(--glow-color);
            z-index: 1001;
            display: none;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }
        /* Custom input range slider */
        input[type="range"] {
            -webkit-appearance: none;
            height: 8px;
            background: var(--input-bg);
            border-radius: 5px;
            outline: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--secondary-color);
            border-radius: 50%;
            cursor: pointer;
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--secondary-color);
            border-radius: 50%;
            cursor: pointer;
        }
        /* Flashing effect for important elements */
        .flash {
            animation: flash 2s infinite;
        }
        @keyframes flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        /* Disclaimer Note */
        .disclaimer {
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 1rem;
            font-style: italic;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <img src="webtoolstree.png" alt="Web Tools Tree" class="logo">
        <h1>Advanced Civil Quantity Takeoff</h1>
        <div style="width: 50px;"></div> <!-- Spacer for centering -->
    </header>
    <div class="container">
        <!-- Tab Navigation - Updated for two rows -->
        <div class="tab-nav">
            <button class="tab-button active" data-tab="concrete">Concrete</button>
            <button class="tab-button" data-tab="steel">Steel</button>
            <button class="tab-button" data-tab="brick">Brick & Mortar</button>
            <button class="tab-button" data-tab="tiles">Tiles & Mortar</button>
        </div>
        <!-- Concrete Tab -->
        <div id="concrete" class="tab-content active">
            <div class="card">
                <h2 class="card-title">Concrete</h2>
                
                <div class="unit-toggle">
                    <button class="active" data-unit="metric">Metric (m, cm)</button>
                    <button data-unit="imperial">Imperial (ft, inch)</button>
                </div>
                
                <div class="form-group">
                    <label for="concrete-grade">Concrete Grade / Mix Ratio</label>
                    <select id="concrete-grade">
                        <option value="">Select Grade or Mix Ratio</option>
                        <option value="M5">M5 (1:5:10) - Lean concrete, foundations, roads</option>
                        <option value="M7.5">M7.5 (1:4:8) - Lean concrete, leveling courses</option>
                        <option value="M10">M10 (1:3:6) - Low strength, flooring</option>
                        <option value="M15">M15 (1:2:4) - Non-structural work, flooring, footings</option>
                        <option value="M20">M20 (1:1.5:3) - Structural slabs, beams, columns</option>
                        <option value="M25">M25 (1:1:2) - Medium strength structural work</option>
                        <option value="M30">M30 (1:1:1.5) - High strength structural concrete</option>
                        <option value="M35">M35 (1:1:1.25) - High strength, important structures</option>
                        <option value="M40">M40 (1:0.9:1.5) - High-performance concrete, special structures</option>
                        <option value="M45">M45 (1:0.85:1.5) - Very high strength, heavy-load bearing</option>
                        <option value="M50">M50 (1:0.8:1.5) - Ultra high-strength, critical structures</option>
                        <option value="custom">Custom Mix Ratio</option>
                    </select>
                </div>
                <div id="custom-mix-ratio" style="display: none;">
                    <div class="form-group">
                        <label for="custom-cement">Cement Ratio</label>
                        <input type="number" id="custom-cement" min="1" max="10" step="0.1" placeholder="e.g., 1">
                    </div>
                    <div class="form-group">
                        <label for="custom-sand">Sand Ratio</label>
                        <input type="number" id="custom-sand" min="0.1" max="10" step="0.1" placeholder="e.g., 1.5">
                    </div>
                    <div class="form-group">
                        <label for="custom-aggregate">Aggregate Ratio</label>
                        <input type="number" id="custom-aggregate" min="0.1" max="10" step="0.1" placeholder="e.g., 3">
                    </div>
                </div>
                <div class="form-group">
                    <label for="dimension-option">Dimension Option</label>
                    <select id="dimension-option">
                        <option value="">Select Option</option>
                        <option value="lwh">Length × Width × Height</option>
                        <option value="volume">Direct Volume</option>
                    </select>
                </div>
                <div id="lwh-dimensions" style="display: none;">
                    <div class="form-group">
                        <label for="length">Length (m)</label>
                        <input type="number" id="length" min="0.1" step="0.01" placeholder="Enter length">
                    </div>
                    <div class="form-group">
                        <label for="width">Width (m)</label>
                        <input type="number" id="width" min="0.1" step="0.01" placeholder="Enter width">
                    </div>
                    <div class="form-group">
                        <label for="height">Height (m)</label>
                        <input type="number" id="height" min="0.1" step="0.01" placeholder="Enter height">
                    </div>
                </div>
                <div id="volume-dimension" style="display: none;">
                    <div class="form-group">
                        <label for="volume">Volume (m³)</label>
                        <input type="number" id="volume" min="0.1" step="0.01" placeholder="Enter volume">
                    </div>
                </div>
                <div class="form-group">
                    <label for="water-cement-ratio">Water-Cement Ratio</label>
                    <input type="number" id="water-cement-ratio" min="0.3" max="0.7" step="0.01" placeholder="e.g., 0.5">
                </div>
                <div class="form-group">
                    <label for="cement-bag-weight">Cement Bag Weight (kg)</label>
                    <input type="number" id="cement-bag-weight" min="20" max="100" step="5" value="50" placeholder="Enter bag weight">
                </div>
                <div class="button-group">
                    <button class="btn-calculate" id="calculate-concrete">Calculate</button>
                    <button class="btn-reset" id="reset-concrete">Reset</button>
                    <button class="btn-export" id="export-concrete">Export Results</button>
                </div>
                <div id="concrete-results" class="results" style="display: none;">
                    <h3>Results</h3>
                    <div class="result-item">
                        <span class="result-label">Concrete Volume (m³):</span>
                        <span class="result-value" id="concrete-volume-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Cement Required (kg):</span>
                        <span class="result-value" id="cement-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Number of Cement Bags:</span>
                        <span class="result-value" id="cement-bags-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Sand Volume (m³):</span>
                        <span class="result-value" id="sand-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Aggregate Volume (m³):</span>
                        <span class="result-value" id="aggregate-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Water Required (liters):</span>
                        <span class="result-value" id="water-result">-</span>
                    </div>
                </div>
                <div class="disclaimer">
                    Note: This is as per standard available calculation. Actual to be measured as per the detailed design requirements.
                </div>
            </div>
        </div>
        <!-- Steel Tab -->
        <div id="steel" class="tab-content">
            <div class="card">
                <h2 class="card-title">Steel</h2>
                
                <div class="unit-toggle">
                    <button class="active" data-unit="metric">Metric (m, mm)</button>
                    <button data-unit="imperial">Imperial (ft, inch)</button>
                </div>
                
                <div class="form-group">
                    <label for="member-type">Member Type</label>
                    <select id="member-type">
                        <option value="">Select Member Type</option>
                        <option value="beam">Beam</option>
                        <option value="column">Column</option>
                        <option value="slab">Slab</option>
                        <option value="footing">Footing</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="calculation-option">Option to Calculate By</label>
                    <select id="calculation-option">
                        <option value="">Select Option</option>
                        <option value="percentage">Percentage of Concrete Volume</option>
                        <option value="length">Input Steel Length Directly</option>
                        <option value="bars">Input Number of Bars and Lengths</option>
                    </select>
                </div>
                <div id="percentage-option" style="display: none;">
                    <div class="form-group">
                        <label for="concrete-ratio">Steel Percentage of Concrete (%)</label>
                        <input type="number" id="concrete-ratio" min="0.1" max="10" step="0.1" placeholder="e.g., 1.2">
                    </div>
                    
                    <div class="form-group">
                        <label for="concrete-volume">Concrete Volume (m³)</label>
                        <input type="number" id="concrete-volume" min="0.1" step="0.01" placeholder="Enter concrete volume">
                    </div>
                </div>
                <div id="length-option" style="display: none;">
                    <div class="form-group">
                        <label for="steel-length">Total Steel Length (m)</label>
                        <input type="number" id="steel-length" min="0.1" step="0.01" placeholder="Enter total steel length">
                    </div>
                </div>
                <div id="bars-option" style="display: none;">
                    <div class="form-group">
                        <label for="number-of-bars">Number of Bars</label>
                        <input type="number" id="number-of-bars" min="1" step="1" placeholder="Enter number of bars">
                    </div>
                    
                    <div class="form-group">
                        <label for="bar-length">Length of Each Bar (m)</label>
                        <input type="number" id="bar-length" min="0.1" step="0.01" placeholder="Enter length of each bar">
                    </div>
                </div>
                <div class="form-group">
                    <label for="bar-diameter">Bar Diameter (mm)</label>
                    <select id="bar-diameter">
                        <option value="">Select Diameter</option>
                        <option value="6">6mm</option>
                        <option value="8">8mm</option>
                        <option value="10">10mm</option>
                        <option value="12">12mm</option>
                        <option value="16">16mm</option>
                        <option value="20">20mm</option>
                        <option value="25">25mm</option>
                        <option value="32">32mm</option>
                        <option value="40">40mm</option>
                        <option value="custom">Custom Diameter</option>
                    </select>
                </div>
                <div id="custom-diameter" style="display: none;">
                    <div class="form-group">
                        <label for="custom-bar-diameter">Custom Bar Diameter (mm)</label>
                        <input type="number" id="custom-bar-diameter" min="1" step="0.5" placeholder="Enter custom diameter">
                    </div>
                </div>
                <div class="sub-section">
                    <h3 class="sub-section-title">Lap Length Calculation</h3>
                    
                    <div class="form-group">
                        <label for="lap-length-option">Lap Length Option</label>
                        <select id="lap-length-option">
                            <option value="manual">Manual Input</option>
                            <option value="formula">Calculate Using Formula</option>
                        </select>
                    </div>
                    
                    <div id="manual-lap-length">
                        <div class="form-group">
                            <label for="lap-length">Lap Length (m)</label>
                            <input type="number" id="lap-length" min="0" step="0.01" value="0" placeholder="Enter lap length (0 if no lap)">
                        </div>
                    </div>
                    
                    <div id="formula-lap-length" style="display: none;">
                        <div class="formula">
                            L<sub>lap</sub> = k × d<sub>b</sub>
                        </div>
                        <div style="text-align: center; margin-bottom: 1rem; font-size: 0.9rem;">
                            Where: L<sub>lap</sub> = Lap length, d<sub>b</sub> = Bar diameter, k = Constant
                        </div>
                        
                        <div class="form-group">
                            <label for="k-value">k Value</label>
                            <input type="number" id="k-value" min="1" max="100" step="1" value="40" placeholder="Enter k value (typically 30-50)">
                        </div>
                        
                        <div class="form-group">
                            <label for="calculated-lap-length">Calculated Lap Length (m)</label>
                            <input type="number" id="calculated-lap-length" readonly placeholder="Calculated lap length">
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button class="btn-calculate" id="calculate-steel">Calculate</button>
                    <button class="btn-reset" id="reset-steel">Reset</button>
                    <button class="btn-export" id="export-steel">Export Results</button>
                </div>
                <div id="steel-results" class="results" style="display: none;">
                    <h3>Results</h3>
                    <div class="result-item">
                        <span class="result-label">Steel Quantity (kg):</span>
                        <span class="result-value" id="steel-quantity-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Number of Bars Required:</span>
                        <span class="result-value" id="bars-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Total Length of Bars (m):</span>
                        <span class="result-value" id="bar-lengths-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Weight per Meter (kg/m):</span>
                        <span class="result-value" id="weight-per-meter-result">-</span>
                    </div>
                </div>
                <div class="disclaimer">
                    Note: This is as per standard available calculation. Actual to be measured as per the detailed design requirements.
                </div>
            </div>
        </div>
        <!-- Brick & Mortar Tab -->
        <div id="brick" class="tab-content">
            <div class="card">
                <h2 class="card-title">Brick & Mortar</h2>
                
                <div class="unit-toggle">
                    <button class="active" data-unit="metric">Metric (m, cm)</button>
                    <button data-unit="imperial">Imperial (ft, inch)</button>
                </div>
                
                <div class="form-group">
                    <label for="wall-length">Wall Length (m)</label>
                    <input type="number" id="wall-length" min="0.1" step="0.01" placeholder="Enter wall length">
                </div>
                <div class="form-group">
                    <label for="wall-height">Wall Height (m)</label>
                    <input type="number" id="wall-height" min="0.1" step="0.01" placeholder="Enter wall height">
                </div>
                <div class="form-group">
                    <label for="wall-thickness">Wall Thickness (m)</label>
                    <input type="number" id="wall-thickness" min="0.05" step="0.01" placeholder="Enter wall thickness">
                </div>
                <div class="form-group">
                    <label for="brick-type">Brick Type / Size</label>
                    <select id="brick-type">
                        <option value="">Select Brick Type/Size</option>
                        <option value="standard-modular">Standard Modular (190x90x90 mm)</option>
                        <option value="standard">Standard (230x110x70 mm)</option>
                        <option value="engineering">Engineering (230x110x100 mm)</option>
                        <option value="jumbo">Jumbo (230x110x160 mm)</option>
                        <option value="hollow">Hollow (390x190x190 mm)</option>
                        <option value="custom">Custom Brick Size</option>
                    </select>
                </div>
                <div id="custom-brick-size" style="display: none;">
                    <div class="form-group">
                        <label for="brick-length">Brick Length (mm)</label>
                        <input type="number" id="brick-length" min="50" step="1" placeholder="Enter brick length in mm">
                    </div>
                    <div class="form-group">
                        <label for="brick-width">Brick Width (mm)</label>
                        <input type="number" id="brick-width" min="50" step="1" placeholder="Enter brick width in mm">
                    </div>
                    <div class="form-group">
                        <label for="brick-height">Brick Height (mm)</label>
                        <input type="number" id="brick-height" min="50" step="1" placeholder="Enter brick height in mm">
                    </div>
                </div>
                <div class="form-group">
                    <label for="mortar-type">Mortar Type / Mix Ratio</label>
                    <select id="mortar-type">
                        <option value="">Select Mortar Type/Mix</option>
                        <option value="cement-sand-1:3">Cement-Sand (1:3)</option>
                        <option value="cement-sand-1:4">Cement-Sand (1:4)</option>
                        <option value="cement-sand-1:5">Cement-Sand (1:5)</option>
                        <option value="cement-sand-1:6">Cement-Sand (1:6)</option>
                        <option value="lime-sand-1:3">Lime-Sand (1:3)</option>
                        <option value="custom">Custom Mix Ratio</option>
                    </select>
                </div>
                <div id="custom-mortar-ratio" style="display: none;">
                    <div class="form-group">
                        <label for="custom-mortar-cement">Cement Ratio</label>
                        <input type="number" id="custom-mortar-cement" min="1" max="10" step="0.1" placeholder="e.g., 1">
                    </div>
                    <div class="form-group">
                        <label for="custom-mortar-sand">Sand Ratio</label>
                        <input type="number" id="custom-mortar-sand" min="0.1" max="10" step="0.1" placeholder="e.g., 4">
                    </div>
                </div>
                <div class="form-group">
                    <label for="mortar-thickness">Mortar Thickness (mm)</label>
                    <input type="number" id="mortar-thickness" min="5" max="30" step="1" value="10" placeholder="Enter mortar thickness in mm">
                </div>
                <div class="form-group">
                    <label for="wastage-percentage">Wastage Percentage (%)</label>
                    <input type="number" id="wastage-percentage" min="0" max="20" step="1" value="5" placeholder="Enter wastage percentage">
                </div>
                <div class="button-group">
                    <button class="btn-calculate" id="calculate-brick">Calculate</button>
                    <button class="btn-reset" id="reset-brick">Reset</button>
                    <button class="btn-export" id="export-brick">Export Results</button>
                </div>
                <div id="brick-results" class="results" style="display: none;">
                    <h3>Results</h3>
                    <div class="result-item">
                        <span class="result-label">Number of Bricks:</span>
                        <span class="result-value" id="bricks-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Mortar Volume (m³):</span>
                        <span class="result-value" id="mortar-volume-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Cement Required (kg):</span>
                        <span class="result-value" id="brick-cement-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Sand Required (kg):</span>
                        <span class="result-value" id="brick-sand-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Water Required (liters):</span>
                        <span class="result-value" id="brick-water-result">-</span>
                    </div>
                </div>
                <div class="disclaimer">
                    Note: This is as per standard available calculation. Actual to be measured as per the detailed design requirements.
                </div>
            </div>
        </div>
        <!-- Tiles & Mortar Tab -->
        <div id="tiles" class="tab-content">
            <div class="card">
                <h2 class="card-title">Tiles & Mortar</h2>
                
                <div class="unit-toggle">
                    <button class="active" data-unit="metric">Metric (m, cm)</button>
                    <button data-unit="imperial">Imperial (ft, inch)</button>
                </div>
                
                <div class="form-group">
                    <label for="floor-wall-area">Floor/Wall Area (m²)</label>
                    <input type="number" id="floor-wall-area" min="0.1" step="0.01" placeholder="Enter area">
                </div>
                <div class="form-group">
                    <label for="tile-size-option">Tile Size Option</label>
                    <select id="tile-size-option">
                        <option value="">Select Option</option>
                        <option value="standard">Standard Sizes</option>
                        <option value="custom">Custom Size</option>
                    </select>
                </div>
                <div id="standard-tile-size" style="display: none;">
                    <div class="form-group">
                        <label for="tile-size">Tile Size</label>
                        <select id="tile-size">
                            <option value="">Select Tile Size</option>
                            <option value="10x10">10×10 cm</option>
                            <option value="15x15">15×15 cm</option>
                            <option value="20x20">20×20 cm</option>
                            <option value="25x25">25×25 cm</option>
                            <option value="30x30">30×30 cm</option>
                            <option value="33x33">33×33 cm</option>
                            <option value="40x40">40×40 cm</option>
                            <option value="45x45">45×45 cm</option>
                            <option value="50x50">50×50 cm</option>
                            <option value="60x60">60×60 cm</option>
                            <option value="30x60">30×60 cm</option>
                            <option value="33x66">33×66 cm</option>
                            <option value="40x80">40×80 cm</option>
                            <option value="60x120">60×120 cm</option>
                            <option value="80x80">80×80 cm</option>
                            <option value="100x100">100×100 cm</option>
                            <option value="120x120">120×120 cm</option>
                        </select>
                    </div>
                </div>
                <div id="custom-tile-size" style="display: none;">
                    <div class="form-group">
                        <label for="tile-length">Tile Length (mm)</label>
                        <input type="number" id="tile-length" min="50" step="1" placeholder="Enter tile length in mm">
                    </div>
                    <div class="form-group">
                        <label for="tile-width">Tile Width (mm)</label>
                        <input type="number" id="tile-width" min="50" step="1" placeholder="Enter tile width in mm">
                    </div>
                </div>
                <div class="form-group">
                    <label for="tile-mortar-thickness">Mortar/Adhesive Thickness (mm)</label>
                    <input type="number" id="tile-mortar-thickness" min="1" max="20" step="1" value="5" placeholder="Enter thickness in mm">
                </div>
                <div class="form-group">
                    <label for="tile-type">Type</label>
                    <select id="tile-type">
                        <option value="">Select Type</option>
                        <option value="floor">Floor</option>
                        <option value="wall">Wall</option>
                        <option value="both">Both (Floor & Wall)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="mortar-type-tiles">Mortar/Adhesive Type</label>
                    <select id="mortar-type-tiles">
                        <option value="">Select Mortar/Adhesive Type</option>
                        <option value="cement-sand-1:4">Cement-Sand (1:4)</option>
                        <option value="cement-sand-1:5">Cement-Sand (1:5)</option>
                        <option value="tile-adhesive">Tile Adhesive</option>
                        <option value="custom">Custom Mix Ratio</option>
                    </select>
                </div>
                <div id="custom-mortar-ratio-tiles" style="display: none;">
                    <div class="form-group">
                        <label for="custom-mortar-cement-tiles">Cement Ratio</label>
                        <input type="number" id="custom-mortar-cement-tiles" min="1" max="10" step="0.1" placeholder="e.g., 1">
                    </div>
                    <div class="form-group">
                        <label for="custom-mortar-sand-tiles">Sand Ratio</label>
                        <input type="number" id="custom-mortar-sand-tiles" min="0.1" max="10" step="0.1" placeholder="e.g., 4">
                    </div>
                </div>
                <div class="form-group">
                    <label for="water-cement-ratio-tiles">Water-Cement Ratio</label>
                    <input type="number" id="water-cement-ratio-tiles" min="0.3" max="0.7" step="0.01" placeholder="e.g., 0.5">
                </div>
                <div class="form-group">
                    <label for="wastage-percentage-tiles">Wastage Percentage (%)</label>
                    <input type="number" id="wastage-percentage-tiles" min="0" max="20" step="1" value="10" placeholder="Enter wastage percentage">
                </div>
                <div class="button-group">
                    <button class="btn-calculate" id="calculate-tiles">Calculate</button>
                    <button class="btn-reset" id="reset-tiles">Reset</button>
                    <button class="btn-export" id="export-tiles">Export Results</button>
                </div>
                <div id="tiles-results" class="results" style="display: none;">
                    <h3>Results</h3>
                    <div class="result-item">
                        <span class="result-label">Number of Tiles:</span>
                        <span class="result-value" id="tiles-number-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Tile Mortar/Adhesive Volume (m³):</span>
                        <span class="result-value" id="tile-mortar-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Cement Required (kg):</span>
                        <span class="result-value" id="tile-cement-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Sand Required (kg):</span>
                        <span class="result-value" id="tile-sand-result">-</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Water Required (liters):</span>
                        <span class="result-value" id="tile-water-result">-</span>
                    </div>
                </div>
                <div class="disclaimer">
                    Note: This is as per standard available calculation. Actual to be measured as per the detailed design requirements.
                </div>
            </div>
        </div>
    </div>
    <!-- Floating Donation Button -->
    <a href="https://buymeacoffee.com/webtoolstree" class="donation-button flash" target="_blank">
        ☕ If you find this useful, support me with 1$ coffee
    </a>
    <!-- Notification -->
    <div id="notification" class="notification"></div>
    <script>
        // DOM Elements
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Tab Navigation
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const tabId = button.getAttribute('data-tab');
                
                // Remove active class from all buttons and contents
                tabButtons.forEach(btn => btn.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                button.classList.add('active');
                document.getElementById(tabId).classList.add('active');
                
                // Save active tab to localStorage
                localStorage.setItem('activeTab', tabId);
            });
        });
        
        // Unit Toggle
        document.querySelectorAll('.unit-toggle button').forEach(button => {
            button.addEventListener('click', () => {
                const parent = button.parentElement;
                parent.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                const unit = button.getAttribute('data-unit');
                const tabId = document.querySelector('.tab-content.active').id;
                
                // Update placeholders and labels based on unit
                updateUnitLabels(tabId, unit);
                
                // Save unit preference to localStorage
                localStorage.setItem(tabId + 'Unit', unit);
            });
        });
        
        // Update labels based on unit
        function updateUnitLabels(tabId, unit) {
            if (tabId === 'concrete') {
                if (unit === 'metric') {
                    document.querySelector('label[for="length"]').textContent = 'Length (m)';
                    document.querySelector('label[for="width"]').textContent = 'Width (m)';
                    document.querySelector('label[for="height"]').textContent = 'Height (m)';
                    document.querySelector('label[for="volume"]').textContent = 'Volume (m³)';
                } else {
                    document.querySelector('label[for="length"]').textContent = 'Length (ft)';
                    document.querySelector('label[for="width"]').textContent = 'Width (ft)';
                    document.querySelector('label[for="height"]').textContent = 'Height (ft)';
                    document.querySelector('label[for="volume"]').textContent = 'Volume (ft³)';
                }
            } else if (tabId === 'steel') {
                if (unit === 'metric') {
                    document.querySelector('label[for="steel-length"]').textContent = 'Total Steel Length (m)';
                    document.querySelector('label[for="bar-length"]').textContent = 'Length of Each Bar (m)';
                    document.querySelector('label[for="concrete-volume"]').textContent = 'Concrete Volume (m³)';
                    document.querySelector('label[for="lap-length"]').textContent = 'Lap Length (m)';
                    document.querySelector('label[for="bar-diameter"]').textContent = 'Bar Diameter (mm)';
                    document.querySelector('label[for="custom-bar-diameter"]').textContent = 'Custom Bar Diameter (mm)';
                } else {
                    document.querySelector('label[for="steel-length"]').textContent = 'Total Steel Length (ft)';
                    document.querySelector('label[for="bar-length"]').textContent = 'Length of Each Bar (ft)';
                    document.querySelector('label[for="concrete-volume"]').textContent = 'Concrete Volume (ft³)';
                    document.querySelector('label[for="lap-length"]').textContent = 'Lap Length (ft)';
                    document.querySelector('label[for="bar-diameter"]').textContent = 'Bar Diameter (inch)';
                    document.querySelector('label[for="custom-bar-diameter"]').textContent = 'Custom Bar Diameter (inch)';
                }
            } else if (tabId === 'brick') {
                if (unit === 'metric') {
                    document.querySelector('label[for="wall-length"]').textContent = 'Wall Length (m)';
                    document.querySelector('label[for="wall-height"]').textContent = 'Wall Height (m)';
                    document.querySelector('label[for="wall-thickness"]').textContent = 'Wall Thickness (m)';
                    
                    // Update custom brick size labels
                    document.querySelector('label[for="brick-length"]').textContent = 'Brick Length (mm)';
                    document.querySelector('label[for="brick-width"]').textContent = 'Brick Width (mm)';
                    document.querySelector('label[for="brick-height"]').textContent = 'Brick Height (mm)';
                    
                    // Update mortar thickness label
                    document.querySelector('label[for="mortar-thickness"]').textContent = 'Mortar Thickness (mm)';
                } else {
                    document.querySelector('label[for="wall-length"]').textContent = 'Wall Length (ft)';
                    document.querySelector('label[for="wall-height"]').textContent = 'Wall Height (ft)';
                    document.querySelector('label[for="wall-thickness"]').textContent = 'Wall Thickness (ft)';
                    
                    // Update custom brick size labels
                    document.querySelector('label[for="brick-length"]').textContent = 'Brick Length (inch)';
                    document.querySelector('label[for="brick-width"]').textContent = 'Brick Width (inch)';
                    document.querySelector('label[for="brick-height"]').textContent = 'Brick Height (inch)';
                    
                    // Update mortar thickness label
                    document.querySelector('label[for="mortar-thickness"]').textContent = 'Mortar Thickness (inch)';
                }
            } else if (tabId === 'tiles') {
                if (unit === 'metric') {
                    document.querySelector('label[for="floor-wall-area"]').textContent = 'Floor/Wall Area (m²)';
                    
                    // Update custom tile size labels
                    document.querySelector('label[for="tile-length"]').textContent = 'Tile Length (mm)';
                    document.querySelector('label[for="tile-width"]').textContent = 'Tile Width (mm)';
                    
                    // Update mortar thickness label
                    document.querySelector('label[for="tile-mortar-thickness"]').textContent = 'Mortar/Adhesive Thickness (mm)';
                } else {
                    document.querySelector('label[for="floor-wall-area"]').textContent = 'Floor/Wall Area (ft²)';
                    
                    // Update custom tile size labels
                    document.querySelector('label[for="tile-length"]').textContent = 'Tile Length (inch)';
                    document.querySelector('label[for="tile-width"]').textContent = 'Tile Width (inch)';
                    
                    // Update mortar thickness label
                    document.querySelector('label[for="tile-mortar-thickness"]').textContent = 'Mortar/Adhesive Thickness (inch)';
                }
            }
        }
        
        // Concrete mix ratios based on grade
        const concreteMixRatios = {
            'M5': { cement: 1, sand: 5, aggregate: 10, water: 0.6 },
            'M7.5': { cement: 1, sand: 4, aggregate: 8, water: 0.6 },
            'M10': { cement: 1, sand: 3, aggregate: 6, water: 0.6 },
            'M15': { cement: 1, sand: 2, aggregate: 4, water: 0.55 },
            'M20': { cement: 1, sand: 1.5, aggregate: 3, water: 0.5 },
            'M25': { cement: 1, sand: 1, aggregate: 2, water: 0.45 },
            'M30': { cement: 1, sand: 1, aggregate: 1.5, water: 0.4 },
            'M35': { cement: 1, sand: 1, aggregate: 1.25, water: 0.4 },
            'M40': { cement: 1, sand: 0.9, aggregate: 1.5, water: 0.35 },
            'M45': { cement: 1, sand: 0.85, aggregate: 1.5, water: 0.35 },
            'M50': { cement: 1, sand: 0.8, aggregate: 1.5, water: 0.3 }
        };
        
        // Brick dimensions based on type (in meters)
        const brickDimensions = {
            'standard-modular': { length: 0.19, width: 0.09, height: 0.09 },
            'standard': { length: 0.23, width: 0.11, height: 0.07 },
            'engineering': { length: 0.23, width: 0.11, height: 0.10 },
            'jumbo': { length: 0.23, width: 0.11, height: 0.16 },
            'hollow': { length: 0.39, width: 0.19, height: 0.19 }
        };
        
        // Tile dimensions based on size (in cm)
        const tileDimensions = {
            '10x10': { length: 10, width: 10 },
            '15x15': { length: 15, width: 15 },
            '20x20': { length: 20, width: 20 },
            '25x25': { length: 25, width: 25 },
            '30x30': { length: 30, width: 30 },
            '33x33': { length: 33, width: 33 },
            '40x40': { length: 40, width: 40 },
            '45x45': { length: 45, width: 45 },
            '50x50': { length: 50, width: 50 },
            '60x60': { length: 60, width: 60 },
            '30x60': { length: 30, width: 60 },
            '33x66': { length: 33, width: 66 },
            '40x80': { length: 40, width: 80 },
            '60x120': { length: 60, width: 120 },
            '80x80': { length: 80, width: 80 },
            '100x100': { length: 100, width: 100 },
            '120x120': { length: 120, width: 120 }
        };
        
        // Mortar mix ratios
        const mortarMixRatios = {
            'cement-sand-1:3': { cement: 1, sand: 3, water: 0.5 },
            'cement-sand-1:4': { cement: 1, sand: 4, water: 0.5 },
            'cement-sand-1:5': { cement: 1, sand: 5, water: 0.5 },
            'cement-sand-1:6': { cement: 1, sand: 6, water: 0.5 },
            'lime-sand-1:3': { cement: 0, sand: 3, lime: 1, water: 0.6 }
        };
        
        // Dimension option change handler for concrete
        const dimensionOption = document.getElementById('dimension-option');
        const lwhDimensions = document.getElementById('lwh-dimensions');
        const volumeDimension = document.getElementById('volume-dimension');
        
        dimensionOption.addEventListener('change', () => {
            if (dimensionOption.value === 'lwh') {
                lwhDimensions.style.display = 'block';
                volumeDimension.style.display = 'none';
            } else if (dimensionOption.value === 'volume') {
                lwhDimensions.style.display = 'none';
                volumeDimension.style.display = 'block';
            } else {
                lwhDimensions.style.display = 'none';
                volumeDimension.style.display = 'none';
            }
        });
        
        // Concrete grade change handler
        const concreteGrade = document.getElementById('concrete-grade');
        const customMixRatio = document.getElementById('custom-mix-ratio');
        
        concreteGrade.addEventListener('change', () => {
            if (concreteGrade.value === 'custom') {
                customMixRatio.style.display = 'block';
            } else {
                customMixRatio.style.display = 'none';
            }
        });
        
        // Calculation option change handler for steel
        const calculationOption = document.getElementById('calculation-option');
        const percentageOption = document.getElementById('percentage-option');
        const lengthOption = document.getElementById('length-option');
        const barsOption = document.getElementById('bars-option');
        
        calculationOption.addEventListener('change', () => {
            if (calculationOption.value === 'percentage') {
                percentageOption.style.display = 'block';
                lengthOption.style.display = 'none';
                barsOption.style.display = 'none';
            } else if (calculationOption.value === 'length') {
                percentageOption.style.display = 'none';
                lengthOption.style.display = 'block';
                barsOption.style.display = 'none';
            } else if (calculationOption.value === 'bars') {
                percentageOption.style.display = 'none';
                lengthOption.style.display = 'none';
                barsOption.style.display = 'block';
            } else {
                percentageOption.style.display = 'none';
                lengthOption.style.display = 'none';
                barsOption.style.display = 'none';
            }
        });
        
        // Bar diameter change handler
        const barDiameter = document.getElementById('bar-diameter');
        const customDiameter = document.getElementById('custom-diameter');
        
        barDiameter.addEventListener('change', () => {
            if (barDiameter.value === 'custom') {
                customDiameter.style.display = 'block';
            } else {
                customDiameter.style.display = 'none';
            }
        });
        
        // Lap length option change handler
        const lapLengthOption = document.getElementById('lap-length-option');
        const manualLapLength = document.getElementById('manual-lap-length');
        const formulaLapLength = document.getElementById('formula-lap-length');
        
        lapLengthOption.addEventListener('change', () => {
            if (lapLengthOption.value === 'manual') {
                manualLapLength.style.display = 'block';
                formulaLapLength.style.display = 'none';
            } else if (lapLengthOption.value === 'formula') {
                manualLapLength.style.display = 'none';
                formulaLapLength.style.display = 'block';
                calculateLapLength();
            }
        });
        
        // Calculate lap length when k value or bar diameter changes
        document.getElementById('k-value').addEventListener('input', calculateLapLength);
        barDiameter.addEventListener('change', calculateLapLength);
        document.getElementById('custom-bar-diameter').addEventListener('input', calculateLapLength);
        
        function calculateLapLength() {
            const kValue = parseFloat(document.getElementById('k-value').value);
            let diameter;
            
            if (barDiameter.value === 'custom') {
                diameter = parseFloat(document.getElementById('custom-bar-diameter').value);
            } else {
                diameter = parseFloat(barDiameter.value);
            }
            
            if (kValue && diameter) {
                // Convert diameter to meters for calculation
                const diameterInMeters = diameter / 1000;
                const lapLength = kValue * diameterInMeters;
                document.getElementById('calculated-lap-length').value = lapLength.toFixed(3);
            }
        }
        
        // Brick type change handler
        const brickType = document.getElementById('brick-type');
        const customBrickSize = document.getElementById('custom-brick-size');
        
        brickType.addEventListener('change', () => {
            if (brickType.value === 'custom') {
                customBrickSize.style.display = 'block';
            } else {
                customBrickSize.style.display = 'none';
            }
        });
        
        // Mortar type change handler for brick
        const mortarType = document.getElementById('mortar-type');
        const customMortarRatio = document.getElementById('custom-mortar-ratio');
        
        mortarType.addEventListener('change', () => {
            if (mortarType.value === 'custom') {
                customMortarRatio.style.display = 'block';
            } else {
                customMortarRatio.style.display = 'none';
            }
        });
        
        // Tile size option change handler
        const tileSizeOption = document.getElementById('tile-size-option');
        const standardTileSize = document.getElementById('standard-tile-size');
        const customTileSize = document.getElementById('custom-tile-size');
        
        tileSizeOption.addEventListener('change', () => {
            if (tileSizeOption.value === 'standard') {
                standardTileSize.style.display = 'block';
                customTileSize.style.display = 'none';
            } else if (tileSizeOption.value === 'custom') {
                standardTileSize.style.display = 'none';
                customTileSize.style.display = 'block';
            } else {
                standardTileSize.style.display = 'none';
                customTileSize.style.display = 'none';
            }
        });
        
        // Mortar type change handler for tiles
        const mortarTypeTiles = document.getElementById('mortar-type-tiles');
        const customMortarRatioTiles = document.getElementById('custom-mortar-ratio-tiles');
        
        mortarTypeTiles.addEventListener('change', () => {
            if (mortarTypeTiles.value === 'custom') {
                customMortarRatioTiles.style.display = 'block';
            } else {
                customMortarRatioTiles.style.display = 'none';
            }
        });
        
        // Calculate concrete
        document.getElementById('calculate-concrete').addEventListener('click', () => {
            const grade = document.getElementById('concrete-grade').value;
            const dimensionOption = document.getElementById('dimension-option').value;
            const waterCementRatio = parseFloat(document.getElementById('water-cement-ratio').value);
            const cementBagWeight = parseFloat(document.getElementById('cement-bag-weight').value);
            const unit = document.querySelector('#concrete .unit-toggle button.active').getAttribute('data-unit');
            
            if (!grade || !dimensionOption || !waterCementRatio || !cementBagWeight) {
                showNotification('Please fill all required fields');
                return;
            }
            
            let volume = 0;
            let mixRatio;
            
            if (grade === 'custom') {
                const customCement = parseFloat(document.getElementById('custom-cement').value);
                const customSand = parseFloat(document.getElementById('custom-sand').value);
                const customAggregate = parseFloat(document.getElementById('custom-aggregate').value);
                
                if (!customCement || !customSand || !customAggregate) {
                    showNotification('Please fill all custom mix ratio fields');
                    return;
                }
                
                mixRatio = {
                    cement: customCement,
                    sand: customSand,
                    aggregate: customAggregate,
                    water: waterCementRatio
                };
            } else {
                mixRatio = concreteMixRatios[grade];
            }
            
            if (dimensionOption === 'lwh') {
                const length = parseFloat(document.getElementById('length').value);
                const width = parseFloat(document.getElementById('width').value);
                const height = parseFloat(document.getElementById('height').value);
                
                if (!length || !width || !height) {
                    showNotification('Please fill all dimension fields');
                    return;
                }
                
                volume = length * width * height;
                
                // Convert to cubic meters if in imperial
                if (unit === 'imperial') {
                    volume = volume * 0.0283168; // cubic feet to cubic meters
                }
            } else if (dimensionOption === 'volume') {
                volume = parseFloat(document.getElementById('volume').value);
                
                if (!volume) {
                    showNotification('Please enter a volume');
                    return;
                }
                
                // Convert to cubic meters if in imperial
                if (unit === 'imperial') {
                    volume = volume * 0.0283168; // cubic feet to cubic meters
                }
            }
            
            const totalRatio = mixRatio.cement + mixRatio.sand + mixRatio.aggregate;
            const cementVolume = (volume * mixRatio.cement) / totalRatio;
            const sandVolume = (volume * mixRatio.sand) / totalRatio;
            const aggregateVolume = (volume * mixRatio.aggregate) / totalRatio;
            
            // Cement weight (density of cement = 1440 kg/m³)
            const cementWeight = cementVolume * 1440;
            const numberOfBags = cementWeight / cementBagWeight;
            
            // Water required (in liters)
            const waterRequired = cementWeight * waterCementRatio;
            
            // Display results
            document.getElementById('concrete-volume-result').textContent = volume.toFixed(2);
            document.getElementById('cement-result').textContent = cementWeight.toFixed(2);
            document.getElementById('cement-bags-result').textContent = numberOfBags.toFixed(2);
            document.getElementById('sand-result').textContent = sandVolume.toFixed(2);
            document.getElementById('aggregate-result').textContent = aggregateVolume.toFixed(2);
            document.getElementById('water-result').textContent = waterRequired.toFixed(2);
            
            document.getElementById('concrete-results').style.display = 'block';
            
            // Save form data to localStorage
            saveFormData('concrete');
        });
        
        // Calculate steel
        document.getElementById('calculate-steel').addEventListener('click', () => {
            const memberType = document.getElementById('member-type').value;
            const calculationOption = document.getElementById('calculation-option').value;
            const barDiameterValue = document.getElementById('bar-diameter').value;
            const lapLengthOption = document.getElementById('lap-length-option').value;
            const unit = document.querySelector('#steel .unit-toggle button.active').getAttribute('data-unit');
            
            if (!memberType || !calculationOption || !barDiameterValue) {
                showNotification('Please fill all required fields');
                return;
            }
            
            let diameter;
            if (barDiameterValue === 'custom') {
                diameter = parseFloat(document.getElementById('custom-bar-diameter').value);
                if (!diameter) {
                    showNotification('Please enter a custom bar diameter');
                    return;
                }
                
                // Convert to mm if in imperial
                if (unit === 'imperial') {
                    diameter = diameter * 25.4; // inch to mm
                }
            } else {
                diameter = parseFloat(barDiameterValue);
                
                // Convert to mm if in imperial
                if (unit === 'imperial') {
                    diameter = diameter * 25.4; // inch to mm
                }
            }
            
            let lapLength = 0;
            if (lapLengthOption === 'manual') {
                lapLength = parseFloat(document.getElementById('lap-length').value) || 0;
                
                // Convert to meters if in imperial
                if (unit === 'imperial') {
                    lapLength = lapLength * 0.3048; // feet to meters
                }
            } else if (lapLengthOption === 'formula') {
                lapLength = parseFloat(document.getElementById('calculated-lap-length').value) || 0;
            }
            
            let totalLength = 0;
            let numberOfBars = 0;
            let barLength = 0;
            
            if (calculationOption === 'percentage') {
                const concreteRatio = parseFloat(document.getElementById('concrete-ratio').value) / 100;
                const concreteVolume = parseFloat(document.getElementById('concrete-volume').value);
                
                if (!concreteRatio || !concreteVolume) {
                    showNotification('Please fill all fields for percentage calculation');
                    return;
                }
                
                // Convert to cubic meters if in imperial
                let volumeInM3 = concreteVolume;
                if (unit === 'imperial') {
                    volumeInM3 = concreteVolume * 0.0283168; // cubic feet to cubic meters
                }
                
                // Steel quantity in kg (density of steel = 7850 kg/m³)
                const steelVolume = volumeInM3 * concreteRatio;
                const steelQuantity = steelVolume * 7850;
                
                // Calculate total length (area = πr², length = volume / area)
                const radius = diameter / 2000; // convert mm to m
                const area = Math.PI * radius * radius;
                totalLength = steelVolume / area;
                
                // Display results
                document.getElementById('steel-quantity-result').textContent = steelQuantity.toFixed(2);
                document.getElementById('bars-result').textContent = '-';
                document.getElementById('bar-lengths-result').textContent = totalLength.toFixed(2);
                
            } else if (calculationOption === 'length') {
                totalLength = parseFloat(document.getElementById('steel-length').value);
                
                if (!totalLength) {
                    showNotification('Please enter steel length');
                    return;
                }
                
                // Convert to meters if in imperial
                if (unit === 'imperial') {
                    totalLength = totalLength * 0.3048; // feet to meters
                }
                
                // Add lap length
                totalLength = totalLength + (totalLength * lapLength / 100);
                
                // Calculate steel quantity (area = πr², volume = area * length, weight = volume * density)
                const radius = diameter / 2000; // convert mm to m
                const area = Math.PI * radius * radius;
                const volume = area * totalLength;
                const steelQuantity = volume * 7850;
                
                // Display results
                document.getElementById('steel-quantity-result').textContent = steelQuantity.toFixed(2);
                document.getElementById('bars-result').textContent = '-';
                document.getElementById('bar-lengths-result').textContent = totalLength.toFixed(2);
                
            } else if (calculationOption === 'bars') {
                numberOfBars = parseInt(document.getElementById('number-of-bars').value);
                barLength = parseFloat(document.getElementById('bar-length').value);
                
                if (!numberOfBars || !barLength) {
                    showNotification('Please enter number of bars and bar length');
                    return;
                }
                
                // Convert to meters if in imperial
                if (unit === 'imperial') {
                    barLength = barLength * 0.3048; // feet to meters
                }
                
                // Add lap length
                barLength = barLength + (barLength * lapLength / 100);
                
                // Calculate total length
                totalLength = numberOfBars * barLength;
                
                // Calculate steel quantity (area = πr², volume = area * length, weight = volume * density)
                const radius = diameter / 2000; // convert mm to m
                const area = Math.PI * radius * radius;
                const volume = area * totalLength;
                const steelQuantity = volume * 7850;
                
                // Display results
                document.getElementById('steel-quantity-result').textContent = steelQuantity.toFixed(2);
                document.getElementById('bars-result').textContent = numberOfBars;
                document.getElementById('bar-lengths-result').textContent = barLength.toFixed(2) + ' each';
            }
            
            // Calculate weight per meter
            const radius = diameter / 2000; // convert mm to m
            const area = Math.PI * radius * radius;
            const weightPerMeter = area * 7850;
            
            document.getElementById('weight-per-meter-result').textContent = weightPerMeter.toFixed(2);
            
            document.getElementById('steel-results').style.display = 'block';
            
            // Save form data to localStorage
            saveFormData('steel');
        });
        
        // Calculate brick and mortar
        document.getElementById('calculate-brick').addEventListener('click', () => {
            const wallLength = parseFloat(document.getElementById('wall-length').value);
            const wallHeight = parseFloat(document.getElementById('wall-height').value);
            const wallThickness = parseFloat(document.getElementById('wall-thickness').value);
            const brickTypeValue = document.getElementById('brick-type').value;
            const mortarTypeValue = document.getElementById('mortar-type').value;
            const mortarThickness = parseFloat(document.getElementById('mortar-thickness').value);
            const wastagePercentage = parseFloat(document.getElementById('wastage-percentage').value) / 100;
            const unit = document.querySelector('#brick .unit-toggle button.active').getAttribute('data-unit');
            
            if (!wallLength || !wallHeight || !wallThickness || !brickTypeValue || !mortarTypeValue || !mortarThickness) {
                showNotification('Please fill all required fields');
                return;
            }
            
            // Convert to meters if in imperial
            let lengthInM = wallLength;
            let heightInM = wallHeight;
            let thicknessInM = wallThickness;
            
            if (unit === 'imperial') {
                lengthInM = wallLength * 0.3048; // feet to meters
                heightInM = wallHeight * 0.3048; // feet to meters
                thicknessInM = wallThickness * 0.3048; // feet to meters
            }
            
            // Calculate wall volume
            const wallVolume = lengthInM * heightInM * thicknessInM;
            
            // Get brick dimensions
            let brickLength, brickWidth, brickHeight;
            
            if (brickTypeValue === 'custom') {
                brickLength = parseFloat(document.getElementById('brick-length').value);
                brickWidth = parseFloat(document.getElementById('brick-width').value);
                brickHeight = parseFloat(document.getElementById('brick-height').value);
                
                if (!brickLength || !brickWidth || !brickHeight) {
                    showNotification('Please enter custom brick dimensions');
                    return;
                }
                
                // Convert to meters if in metric (mm to m)
                if (unit === 'metric') {
                    brickLength = brickLength / 1000; // mm to m
                    brickWidth = brickWidth / 1000; // mm to m
                    brickHeight = brickHeight / 1000; // mm to m
                } else {
                    // Convert to meters if in imperial (inch to m)
                    brickLength = brickLength * 0.0254; // inch to m
                    brickWidth = brickWidth * 0.0254; // inch to m
                    brickHeight = brickHeight * 0.0254; // inch to m
                }
            } else {
                brickLength = brickDimensions[brickTypeValue].length;
                brickWidth = brickDimensions[brickTypeValue].width;
                brickHeight = brickDimensions[brickTypeValue].height;
            }
            
            // Convert mortar thickness to meters
            let mortarThicknessInM = mortarThickness;
            if (unit === 'metric') {
                mortarThicknessInM = mortarThickness / 1000; // mm to m
            } else {
                mortarThicknessInM = mortarThickness * 0.0254; // inch to m
            }
            
            // Calculate brick volume with mortar
            const brickVolumeWithMortar = (brickLength + mortarThicknessInM) * (brickWidth + mortarThicknessInM) * (brickHeight + mortarThicknessInM);
            
            // Calculate number of bricks
            let numberOfBricks = Math.ceil(wallVolume / brickVolumeWithMortar);
            
            // Add wastage
            numberOfBricks = Math.ceil(numberOfBricks * (1 + wastagePercentage));
            
            // Calculate total brick volume
            const totalBrickVolume = numberOfBricks * brickLength * brickWidth * brickHeight;
            
            // Calculate mortar volume
            const mortarVolume = wallVolume - totalBrickVolume;
            
            // Get mortar mix ratio
            let mixRatio;
            if (mortarTypeValue === 'custom') {
                const customCement = parseFloat(document.getElementById('custom-mortar-cement').value);
                const customSand = parseFloat(document.getElementById('custom-mortar-sand').value);
                
                if (!customCement || !customSand) {
                    showNotification('Please enter custom mortar mix ratio');
                    return;
                }
                
                mixRatio = {
                    cement: customCement,
                    sand: customSand,
                    water: 0.5
                };
            } else {
                mixRatio = mortarMixRatios[mortarTypeValue];
            }
            
            // Calculate cement and sand quantities
            const totalRatio = mixRatio.cement + mixRatio.sand;
            const cementVolume = (mortarVolume * mixRatio.cement) / totalRatio;
            const sandVolume = (mortarVolume * mixRatio.sand) / totalRatio;
            
            // Convert to weight (cement density = 1440 kg/m³, sand density = 1600 kg/m³)
            const cementWeight = cementVolume * 1440;
            const sandWeight = sandVolume * 1600;
            
            // Calculate water required (in liters)
            const waterRequired = cementWeight * mixRatio.water;
            
            // Display results
            document.getElementById('bricks-result').textContent = numberOfBricks;
            document.getElementById('mortar-volume-result').textContent = mortarVolume.toFixed(2);
            document.getElementById('brick-cement-result').textContent = cementWeight.toFixed(2);
            document.getElementById('brick-sand-result').textContent = sandWeight.toFixed(2);
            document.getElementById('brick-water-result').textContent = waterRequired.toFixed(2);
            
            document.getElementById('brick-results').style.display = 'block';
            
            // Save form data to localStorage
            saveFormData('brick');
        });
        
        // Calculate tiles and tile mortar
        document.getElementById('calculate-tiles').addEventListener('click', () => {
            const floorWallArea = parseFloat(document.getElementById('floor-wall-area').value);
            const tileSizeOption = document.getElementById('tile-size-option').value;
            const mortarThickness = parseFloat(document.getElementById('tile-mortar-thickness').value);
            const tileType = document.getElementById('tile-type').value;
            const mortarTypeValue = document.getElementById('mortar-type-tiles').value;
            const waterCementRatio = parseFloat(document.getElementById('water-cement-ratio-tiles').value);
            const wastagePercentage = parseFloat(document.getElementById('wastage-percentage-tiles').value) / 100;
            const unit = document.querySelector('#tiles .unit-toggle button.active').getAttribute('data-unit');
            
            if (!floorWallArea || !tileSizeOption || !mortarThickness || !tileType || !mortarTypeValue || !waterCementRatio) {
                showNotification('Please fill all required fields');
                return;
            }
            
            // Convert to square meters if in imperial
            let areaInM2 = floorWallArea;
            if (unit === 'imperial') {
                areaInM2 = floorWallArea * 0.092903; // square feet to square meters
            }
            
            // Get tile dimensions
            let tileLength, tileWidth;
            
            if (tileSizeOption === 'standard') {
                const tileSizeValue = document.getElementById('tile-size').value;
                if (!tileSizeValue) {
                    showNotification('Please select a tile size');
                    return;
                }
                
                tileLength = tileDimensions[tileSizeValue].length / 100; // convert cm to m
                tileWidth = tileDimensions[tileSizeValue].width / 100; // convert cm to m
            } else if (tileSizeOption === 'custom') {
                tileLength = parseFloat(document.getElementById('tile-length').value);
                tileWidth = parseFloat(document.getElementById('tile-width').value);
                
                if (!tileLength || !tileWidth) {
                    showNotification('Please enter custom tile dimensions');
                    return;
                }
                
                // Convert to meters if in metric (mm to m)
                if (unit === 'metric') {
                    tileLength = tileLength / 1000; // mm to m
                    tileWidth = tileWidth / 1000; // mm to m
                } else {
                    // Convert to meters if in imperial (inch to m)
                    tileLength = tileLength * 0.0254; // inch to m
                    tileWidth = tileWidth * 0.0254; // inch to m
                }
            }
            
            // Convert mortar thickness to meters
            let mortarThicknessInM = mortarThickness;
            if (unit === 'metric') {
                mortarThicknessInM = mortarThickness / 1000; // mm to m
            } else {
                mortarThicknessInM = mortarThickness * 0.0254; // inch to m
            }
            
            // Calculate number of tiles
            let numberOfTiles = Math.ceil(areaInM2 / (tileLength * tileWidth));
            
            // Add wastage
            numberOfTiles = Math.ceil(numberOfTiles * (1 + wastagePercentage));
            
            // Calculate mortar volume
            let mortarVolume;
            if (mortarTypeValue === 'tile-adhesive') {
                // Tile adhesive is usually calculated in kg per square meter
                // Typical coverage is 3-5 kg per m² per mm thickness
                const adhesiveThickness = mortarThicknessInM * 1000; // convert m to mm
                const adhesiveKgPerM2 = 4 * adhesiveThickness; // assuming 4 kg per m² per mm
                mortarVolume = (areaInM2 * adhesiveKgPerM2) / 1200; // convert kg to m³ (density of adhesive ~1200 kg/m³)
            } else {
                mortarVolume = areaInM2 * mortarThicknessInM;
            }
            
            // Get mortar mix ratio
            let mixRatio;
            if (mortarTypeValue === 'custom') {
                const customCement = parseFloat(document.getElementById('custom-mortar-cement-tiles').value);
                const customSand = parseFloat(document.getElementById('custom-mortar-sand-tiles').value);
                
                if (!customCement || !customSand) {
                    showNotification('Please enter custom mortar mix ratio');
                    return;
                }
                
                mixRatio = {
                    cement: customCement,
                    sand: customSand,
                    water: waterCementRatio
                };
            } else if (mortarTypeValue === 'tile-adhesive') {
                // Tile adhesive doesn't have cement and sand in the traditional sense
                mixRatio = {
                    cement: 1,
                    sand: 0,
                    water: waterCementRatio
                };
            } else {
                mixRatio = mortarMixRatios[mortarTypeValue];
            }
            
            // Calculate cement and sand quantities
            if (mortarTypeValue === 'tile-adhesive') {
                // For tile adhesive, we already have the weight
                const adhesiveWeight = mortarVolume * 1200; // density of adhesive ~1200 kg/m³
                
                document.getElementById('tile-cement-result').textContent = adhesiveWeight.toFixed(2) + ' (adhesive)';
                document.getElementById('tile-sand-result').textContent = '0';
                document.getElementById('tile-water-result').textContent = (adhesiveWeight * mixRatio.water).toFixed(2);
            } else {
                const totalRatio = mixRatio.cement + mixRatio.sand;
                const cementVolume = (mortarVolume * mixRatio.cement) / totalRatio;
                const sandVolume = (mortarVolume * mixRatio.sand) / totalRatio;
                
                // Convert to weight (cement density = 1440 kg/m³, sand density = 1600 kg/m³)
                const cementWeight = cementVolume * 1440;
                const sandWeight = sandVolume * 1600;
                
                // Calculate water required (in liters)
                const waterRequired = cementWeight * mixRatio.water;
                
                document.getElementById('tile-cement-result').textContent = cementWeight.toFixed(2);
                document.getElementById('tile-sand-result').textContent = sandWeight.toFixed(2);
                document.getElementById('tile-water-result').textContent = waterRequired.toFixed(2);
            }
            
            // Display results
            document.getElementById('tiles-number-result').textContent = numberOfTiles;
            document.getElementById('tile-mortar-result').textContent = mortarVolume.toFixed(2);
            
            document.getElementById('tiles-results').style.display = 'block';
            
            // Save form data to localStorage
            saveFormData('tiles');
        });
        
        // Reset form functions
        document.getElementById('reset-concrete').addEventListener('click', () => {
            resetForm('concrete');
        });
        
        document.getElementById('reset-steel').addEventListener('click', () => {
            resetForm('steel');
        });
        
        document.getElementById('reset-brick').addEventListener('click', () => {
            resetForm('brick');
        });
        
        document.getElementById('reset-tiles').addEventListener('click', () => {
            resetForm('tiles');
        });
        
        // Export results functions
        document.getElementById('export-concrete').addEventListener('click', () => {
            exportResults('concrete');
        });
        
        document.getElementById('export-steel').addEventListener('click', () => {
            exportResults('steel');
        });
        
        document.getElementById('export-brick').addEventListener('click', () => {
            exportResults('brick');
        });
        
        document.getElementById('export-tiles').addEventListener('click', () => {
            exportResults('tiles');
        });
        
        // Helper functions
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        function resetForm(formType) {
            const form = document.getElementById(formType);
            const inputs = form.querySelectorAll('input, select');
            const results = form.querySelector('.results');
            
            inputs.forEach(input => {
                if (input.type === 'number') {
                    input.value = '';
                } else if (input.tagName === 'SELECT') {
                    input.selectedIndex = 0;
                }
            });
            
            results.style.display = 'none';
            
            // Hide conditional fields
            if (formType === 'concrete') {
                document.getElementById('lwh-dimensions').style.display = 'none';
                document.getElementById('volume-dimension').style.display = 'none';
                document.getElementById('custom-mix-ratio').style.display = 'none';
            } else if (formType === 'steel') {
                document.getElementById('percentage-option').style.display = 'none';
                document.getElementById('length-option').style.display = 'none';
                document.getElementById('bars-option').style.display = 'none';
                document.getElementById('custom-diameter').style.display = 'none';
                document.getElementById('formula-lap-length').style.display = 'none';
                document.getElementById('manual-lap-length').style.display = 'block';
            } else if (formType === 'brick') {
                document.getElementById('custom-brick-size').style.display = 'none';
                document.getElementById('custom-mortar-ratio').style.display = 'none';
            } else if (formType === 'tiles') {
                document.getElementById('standard-tile-size').style.display = 'none';
                document.getElementById('custom-tile-size').style.display = 'none';
                document.getElementById('custom-mortar-ratio-tiles').style.display = 'none';
            }
            
            // Clear localStorage for this form
            localStorage.removeItem(formType + 'FormData');
            
            showNotification('Form reset successfully');
        }
        
        function saveFormData(formType) {
            const form = document.getElementById(formType);
            const inputs = form.querySelectorAll('input, select');
            const formData = {};
            
            inputs.forEach(input => {
                if (input.type === 'number') {
                    formData[input.id] = input.value;
                } else if (input.tagName === 'SELECT') {
                    formData[input.id] = input.value;
                }
            });
            
            // Save unit preference
            const unitButton = form.querySelector('.unit-toggle button.active');
            if (unitButton) {
                formData['unit'] = unitButton.getAttribute('data-unit');
            }
            
            localStorage.setItem(formType + 'FormData', JSON.stringify(formData));
        }
        
        function loadFormData(formType) {
            const savedData = localStorage.getItem(formType + 'FormData');
            
            if (savedData) {
                const formData = JSON.parse(savedData);
                
                Object.keys(formData).forEach(key => {
                    const element = document.getElementById(key);
                    if (element) {
                        element.value = formData[key];
                        
                        // Trigger change events for conditional fields
                        if (key === 'dimension-option' || key === 'concrete-grade') {
                            element.dispatchEvent(new Event('change'));
                        } else if (key === 'calculation-option' || key === 'bar-diameter') {
                            element.dispatchEvent(new Event('change'));
                        } else if (key === 'brick-type' || key === 'mortar-type') {
                            element.dispatchEvent(new Event('change'));
                        } else if (key === 'tile-size-option' || key === 'mortar-type-tiles') {
                            element.dispatchEvent(new Event('change'));
                        } else if (key === 'lap-length-option') {
                            element.dispatchEvent(new Event('change'));
                        }
                    }
                });
                
                // Set unit preference
                if (formData['unit']) {
                    const unitButton = document.querySelector(`#${formType} .unit-toggle button[data-unit="${formData['unit']}"]`);
                    if (unitButton) {
                        unitButton.click();
                    }
                }
            }
        }
        
        function exportResults(formType) {
            const resultsDiv = document.getElementById(formType + '-results');
            
            if (resultsDiv.style.display === 'none') {
                showNotification('No results to export');
                return;
            }
            
            const resultItems = resultsDiv.querySelectorAll('.result-item');
            let resultsText = `${formType.charAt(0).toUpperCase() + formType.slice(1)} Calculator Results:\n\n`;
            
            resultItems.forEach(item => {
                const label = item.querySelector('.result-label').textContent;
                const value = item.querySelector('.result-value').textContent;
                resultsText += `${label} ${value}\n`;
            });
            
            // Copy to clipboard
            navigator.clipboard.writeText(resultsText).then(() => {
                showNotification('Results copied to clipboard');
            }).catch(err => {
                showNotification('Failed to copy results');
            });
        }
        
        // Load saved active tab
        const savedTab = localStorage.getItem('activeTab');
        if (savedTab) {
            document.querySelector(`[data-tab="${savedTab}"]`).click();
        }
        
        // Load saved form data for active tab
        loadFormData('concrete');
        loadFormData('steel');
        loadFormData('brick');
        loadFormData('tiles');
    </script>
</body>
</html>